
policy_types:

  aria.Plugin:
    _extensions:
      role: plugin
    description: >-
      ARIA Plugin definition.
    derived_from: tosca.policies.Root
    properties:
      executor:
        description: >-
          Where to execute the plugin's operations.
        type: string
        constraints:
          - valid_values: [ central_deployment_agent, host_agent ]
      source:
        description: >-
          Where to execute the plugin's operations. Where to retrieve the plugin from. Could be
          either a path relative to the plugins dir inside the blueprint's root dir or a url. If
          install is false, source is redundant. If install is true, source (or package_name) is
          mandatory.
        type: string
        required: false
      install_arguments:
        description: >-
          Optional arguments passed to the 'pip install' command created for the plugin
          installation.
        type: string
        required: false
      install:
        description: >-
          Whether to install the plugin or not as it might already be installed as part of the
          agent.
        type: boolean
        default: true
      package_name:
        description: >-
          Managed plugin package name. If install is false, package_name is redundant. If install is
          true, package_name (or source) is mandatory.
        type: string
        required: false
      package_version:
        description: >-
          Managed plugin package version.
        type: string
        required: false
      supported_platform:
        description: >-
          Managed plugin supported platform (e.g. linux_x86_64).
        type: string
        required: false
      supported_distribution:
        description: >-
          Managed plugin distribution.
        type: string
        required: false
      distribution_version:
        description: >-
          Managed plugin distribution version.
        type: string
        required: false
      distribution_release:
        description: >-
          Managed plugin distribution release.
        type: string
        required: false

  aria.Workflow:
    _extensions:
      role: workflow
    description: >-
      ARIA Workflow definition.
    derived_from: tosca.policies.Root
    properties:
      function:
        description: >-
          Python workflow function.
        type: string
      implementation:
        description: >-
          The implementation artifact name (i.e., the primary script file name within a TOSCA CSAR
          file).
        type: string
        required: false
      dependencies:
        description: >-
          The optional ordered list of one or more dependent or secondary implementation artifact
          name which are referenced by the primary implementation artifact (e.g., a library the
          script installs or a secondary script).
        type: list
        entry_schema: string
        required: false
